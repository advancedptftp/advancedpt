@model DataLayer.Models.KneeBraceCustomFormDetail
@{
    Layout = null;
}
@using DataLayer;

<script>
    var zipcodes = "";
    var zipcodesdesh = "";
    var zip = "";
    zip = '@Model.KneeBraceCustomForm.tblMPatient.ZipCode';
</script>
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>myadvancedpt.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" href="favicon.png">
    <script src="~/Scripts/jquery.js"></script>
    <script src="~/Scripts/jquery.min.js"></script>

    <script>

        $(document).ready(function () {
            //alert(zip.toString().length);
            var checklength = zip.toString().length;


            var check2 = new Array();
            var check3 = new Array();
            //var allValid2 = true;
            //var str2 = document.mainform.checkOK2.value;
            for (i = 0; i < checklength; i++) {
                ch1 = zip.charAt(i);
                //for (j = 0; j < checkOK2.length; j++)
                //    if (ch1 == checkOK2.charAt(j))
                //        break;
                //if (j == checkOK2.length) {
                //    allValid2 = false;
                //    break;
                if (i < 5) {

                    check2.push(+ch1);

                }
                else {
                    check3.push(+ch1);
                }

                // alert(check2);
                // alert(check2);
                // }
            }

            var zipcodefinal = check2.concat(check3);
            var zipsplit = zipcodefinal.splice(',');
            for (i = 0; i < checklength; i++) {
                if (i < 5) {
                    zipcodes = zipcodes + zipsplit[i];
                }
                else {
                    if (checklength > 4) {
                        zipcodesdesh = zipcodesdesh + zipsplit[i];
                    }
                   
                }

            }
            //alert(zipcodes + "-" + zipcodesdesh);
            if (zipcodesdesh == "") {
                $("#zipcodess").text(zipcodes);
            }
            else {
                $("#zipcodess").text(zipcodes + "-" + zipcodesdesh);
            }
           
           

        })

    </script>

</head>

<body>

    @Html.HiddenFor(e => e.CustomBrace.CustomBrace_Desc)
    @Html.HiddenFor(e => e.PreviousTreatment.PreviousTreatment_Desc)

    <div style="width:1100px; margin:auto; padding-top:30px; font-family:verdana; font-size:21px; color:#333;">



        <div class="col-sm-12">
            <table width="100%" border="0">
                <tr>
                    <td width="25%">
                        <span>
                            @{
                                var imgurl5 = "";
                                if (ViewBag.AdvanceptLogo != null)
                                {
                                    imgurl5 = "data:image/png;base64," + Convert.ToBase64String(ViewBag.AdvanceptLogo);
                                }
                            }
                            <img src="@imgurl5" alt="Alternate Text" id="imgWitnessSignature" />
                        </span>
                    </td>
                    <td width="75%">
                        <h2 style="font-size:25px; text-align:right; margin-bottom:8px;"> Prescription / Letter of Medical Necessity</h2>
                        <p style="text-align:right; margin:0;">Phone 352-693-3378 •<strong style="text-decoration:underline;"> Fax 888-758-9645</strong></p>
                    </td>
                </tr>
            </table>

        </div>



        <div>
            <table border="0" width="100%" style="padding-top:25px;">
                <tbody>
                    <tr>
                        <td valign="top" width="100%" style="padding-bottom:25px;">Patient Name<span style="width:580px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">&nbsp;@Model.KneeBraceCustomForm.tblMPatient.FirstName  @Model.KneeBraceCustomForm.tblMPatient.LastName</span> DOB <span style="width:250px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.KneeBraceCustomForm.tblMPatient.DOB.GetExactValue()</span></td>
                    </tr>

                    <tr>
                        <td valign="top" width="100%" style="padding-bottom:25px;">
                            Address<span style="width:620px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.KneeBraceCustomForm.tblMPatient.AddressLine1,@Model.KneeBraceCustomForm.tblMPatient.City,@Model.KneeBraceCustomForm.tblMPatient.tblMState.StateName,<span id="zipcodess"></span></span>
                            Phone<span style="width:250px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.KneeBraceCustomForm.tblMPatient.Phone2</span>
                        </td>
                    </tr>

                    <tr>
                        <td valign="top" width="100%" style="padding-bottom:25px;">Date of Surgery <span style="font-size:10px; font-style:italic;">If applicable</span><span style="width:300px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.KneeBraceCustomForm.Dateofsurgery.GetExactValue()</span>Date of Injury <span style="font-size:10px; font-style:italic;">If applicable</span><span style="width:300px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.KneeBraceCustomForm.Dateofinjury.GetExactValue()</span> </td>
                    </tr>

                    <tr>
                        <td valign="top" width="100%" style="padding-bottom:25px;">
                            Clinic Location<span style="width:500px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">3845 SE Lake Weir Ave, Ocala, FL 34480</span>
                            Physical Therapist<span style="width:200px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.KneeBraceCustomForm.tblRDMEClinicalStaffPrescription.Therapist_Name</span>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>



        <div>
            <table border="0" width="100%">
                <tbody>
                    <tr>
                        <td valign="top" width="93%">
                            <strong style="font-size:25px; border-bottom:3px solid #000; display:block;">ORTHOPEDIC BRACING</strong>

                        </td>
                    </tr>
                </tbody>
            </table>

        </div>

        <div>
            <table border="0" width="100%">
                <tbody>
                    <tr>
                        <td valign="top" width="93%">
                            <input type="checkbox" checked="checked" />  <strong>Custom Knee L1846  </strong>
                            <table border="0" width="100%">
                                <tr>
                                    <td valign="top" width="93%" style="padding:0px 0 10px 20px;">
                                        <p>Reason for custom vs. off the shelf brace:</p>
                                        @{
                                            string _CustomBrace_Desc = Model.CustomBrace.CustomBrace_Desc;
                                            string[] _CustomBrace_DescArr = _CustomBrace_Desc.Split(',');
                                            string Desc = string.Empty;
                                            string chkedStatus = string.Empty;
                                            for (int i = 0; i < 4; i++)
                                            {
                                                if (i == 0)
                                                {
                                                    Desc = "Disproportionate size of thigh and calf";

                                                }
                                                if (i == 1)
                                                {
                                                    Desc = "Minimal muscle mass upon which to suspend an orthosis";

                                                }
                                                if (i == 2)
                                                {
                                                    Desc = "A typical thigh and calf dimensions due to obesity (BMI greater than or equal to 30)";

                                                }
                                                if (i == 3)
                                                {
                                                    Desc = "Intimate fit is required for ligament protection or off-loading indication";

                                                }

                                                if (_CustomBrace_Desc.Contains("1") && i == 0)
                                                {
                                                    chkedStatus = "checked";
                                                }

                                                else if (_CustomBrace_Desc.Contains("2") && i == 1)
                                                {
                                                    chkedStatus = "checked";
                                                }

                                                else if (_CustomBrace_Desc.Contains("3") && i == 2)
                                                {
                                                    chkedStatus = "checked";
                                                }

                                                else if (_CustomBrace_Desc.Contains("4") && i == 3)
                                                {
                                                    chkedStatus = "checked";
                                                }
                                                else
                                                {
                                                    chkedStatus = "";
                                                }


                                                <div style="padding:3px 0 0px 0;">
                                                    <table width="100%" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <td width="93%" valign="top">
                                                                    @if (chkedStatus != "")
                                                                    {
                                                                        <input type="checkbox" id="KneeBraceCustomFormCustomBrace_Desc_@i" checked=@chkedStatus>
                                                                    }
                                                                    else
                                                                    {
                                                                        <input type="checkbox" id="KneeBraceCustomFormCustomBrace_Desc_@i">
                                                                    }
                                                                    &nbsp;
                                                                    @Desc
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            }


                                        }
                                        @*<div style="padding:3px 0 0px 0;">
                                                <table width="100%" border="0">
                                                    <tbody>
                                                        <tr>
                                                            <td width="93%" valign="top">
                                                                <input type="checkbox" id="KneeBraceCustomFormCustomBrace_Desc1" name="KneeBraceCustomFormCustomBrace_Desc1">&nbsp;Disproportionate size of thigh and calf

                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>

                                            </div>*@
                                        @*<div style="padding:3px 0 0px 0;">
                                                <table width="100%" border="0">
                                                    <tbody>
                                                        <tr>
                                                            <td width="93%" valign="top">
                                                                <input type="checkbox" id="KneeBraceCustomFormCustomBrace_Desc2" name="KneeBraceCustomFormCustomBrace_Desc2">&nbsp;A typical thigh and calf dimensions due to obesity (BMI greater than or equal to 30)
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>

                                            </div>*@
                                        @*<div style="padding:3px 0 0px 0;">
                                                <table width="100%" border="0">
                                                    <tbody>
                                                        <tr>
                                                            <td width="93%" valign="top">
                                                                <input type="checkbox" id="KneeBraceCustomFormCustomBrace_Desc3" name="KneeBraceCustomFormCustomBrace_Desc3">&nbsp;Minimal muscle mass upon which to suspend an orthosis
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>

                                            </div>*@
                                        @*<div style="padding:3px 0 0px 0;">
                                                <table width="100%" border="0">
                                                    <tbody>
                                                        <tr>
                                                            <td width="93%" valign="top">
                                                                <input type="checkbox" id="KneeBraceCustomFormCustomBrace_Desc4" name="KneeBraceCustomFormCustomBrace_Desc4">&nbsp;Intimate fit is required for ligament protection or off-loading indication
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>

                                            </div>*@
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" width="93%">
                            <input type="checkbox" />  <strong>Soft OA Knee Offloader L1843</strong>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" width="93%">
                            <input type="checkbox" />  <strong>Ligament Knee Brace L1845 </strong>

                        </td>
                    </tr>
                    <tr>
                        <td valign="top" width="93%">
                            <input type="checkbox" />  <strong>Rigid OA Knee Offloader L1845</strong>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" width="93%">
                            <input type="checkbox" />  <strong>Lumbosacral Orthosis L0637</strong>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" width="93%">
                            <input type="checkbox" />  <strong>Kyphosis Corrective Orthosis L0456</strong>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>

        <div>
            <table border="0" width="100%">
                <tbody>
                    <tr>
                        <td valign="top" width="93%">
                            <strong style="font-size:25px; border-bottom:3px solid #000; display:block; padding-top:10px;">OTHER</strong>

                        </td>

                    </tr>

                </tbody>
            </table>

        </div>

        <div>
            <table border="0" width="100%" style="padding-top:10px;">
                <tbody>
                    <tr>
                        <td valign="top" width="93%"><input type="checkbox" /><span style="width: 500px; margin: 0 10px 0 10px; display: inline-block; border-bottom: 1px solid #ccc; border-left: none; border-right: none; border-top: none; padding-bottom: 7px; padding-top: 10px; "></span>  <input type="checkbox" /><span style="width:500px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; "></span></td>
                    </tr>
                    <tr>
                        <td valign="top" width="93%"><input type="checkbox" /><span style="width: 500px; margin: 0 10px 0 10px; display: inline-block; border-bottom: 1px solid #ccc; border-left: none; border-right: none; border-top: none; padding-bottom: 7px; padding-top: 10px;"></span>  <input type="checkbox" /><span style="width:500px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; "></span></td>
                    </tr>
                </tbody>
            </table>

        </div>

        <div>
            <table border="0" width="100%">
                <tbody>
                    <tr>
                        <td valign="top" width="93%">
                            <strong style="font-size:25px; border-bottom:3px solid #000; display:block;padding-top:20px;">MEDICAL NECESSITY / LENGTH OF NEED</strong>

                        </td>

                    </tr>

                </tbody>
            </table>

        </div>



        <div>
            <table border="0" width="100%" style="padding-top:20px; padding-bottom:15px;">
                <tbody>
                    <tr>
                        <td valign="top">
                            <strong style="border:solid;">X</strong> <strong>Purchase / Lifetime</strong>
                        </td>
                        <td valign="top">
                            <input type="checkbox" /> <strong>1-3 Months</strong>
                        </td>
                        <td valign="top">
                            <input type="checkbox" /> <strong>3-6 Months</strong>
                        </td>
                        <td valign="top">
                            <input type="checkbox"> <strong>Other</strong>
                        </td>
                        <td style="padding-left:7px;" width="25%" valign="top">
                            <div style="padding:8px 0 8px 0; border-bottom:1px solid #333; margin-bottom:5px; min-height:10px;"></div>

                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
        <div class="col-sm-12">
            <div class="col-sm-6">
                <div class="col-sm-2" style="float:left;">
                    <b>ICD-10 CODES</b> &nbsp;
                </div>
                <div class="col-sm-4" style="float:left">
                    @*<table width=" 100%" border="0">
                    *@
                    <script>
                        var counter = 0;
                    </script>
                    @for (int i = 0; i < Model.DMEDiognosis.Count; i++)
                    {

                    <u> @Model.DMEDiognosis[i].ICD10Code (@Model.DMEDiognosis[i].Diagnosis_Desc) </u>


                    <script>
                        counter += 1;
                    </script>
                    }
                    @*</table>*@

                </div>
            </div>

                <div class="col-sm-6">
                    @*<table width="100%" border="0">
                <tr>
                    <td width="9%">*@
                    &nbsp;   @Html.RadioButtonFor(m => m.KneeBraceCustomForm.CirclePosition, "RIGHT", new { @disabled = "disabled" })&nbsp;Right&nbsp;
                    @*</td>
                <td width="8%">*@
                    @Html.RadioButtonFor(m => m.KneeBraceCustomForm.CirclePosition, "LEFT", new { @disabled = "disabled" })&nbsp;Left&nbsp;
                    @*</td>
                <td width="17%">*@
                    <input type="radio" disabled="disabled" checked="checked"> &nbsp;Do Not Substitute
                    @*</td>
                    </tr>
                </table>*@

                </div>
            </div>
            <div class="col-sm-12" style="padding-top:15px;">
                <div class="col-sm-2">
                    <span style="font-size:25px;"><b>Previous Treatment(s)/Medications:</b></span>&nbsp;
                </div>

                @*<table width="100%" border="0" style="margin-top:20px;">*@
                @{
                    string _PreviousTreatment_Desc = Model.PreviousTreatment.PreviousTreatment_Desc;
                    string[] _PreviousTreatment_DescArr = _PreviousTreatment_Desc.Split(',');
                    string Desc1 = string.Empty;
                    string chkedStatus1 = string.Empty;
                    for (int i = 0; i < 4; i++)
                    {
                        if (i == 0)
                        {
                            Desc1 = "Prior Surgery";

                        }
                        if (i == 1)
                        {
                            Desc1 = "NSAIDS/Pain Medications";

                        }
                        if (i == 2)
                        {
                            Desc1 = "Injections";

                        }
                        if (i == 3)
                        {
                            Desc1 = "Physical Therapy";

                        }

                        if (_PreviousTreatment_Desc.Contains("1") && i == 0)
                        {
                            chkedStatus1 = "checked";
                        }

                        else if (_PreviousTreatment_Desc.Contains("2") && i == 1)
                        {
                            chkedStatus1 = "checked";
                        }

                        else if (_PreviousTreatment_Desc.Contains("3") && i == 2)
                        {
                            chkedStatus1 = "checked";
                        }

                        else if (_PreviousTreatment_Desc.Contains("4") && i == 3)
                        {
                            chkedStatus1 = "checked";
                        }
                        else
                        {
                            chkedStatus1 = "";
                        }



                        <div class="col-sm-2">




                            @*<table width="100%" border="0" style="margin-top:20px;">
                            <tbody>

                                <tr>
                                    <td width="93%" valign="top">*@
                            @if (chkedStatus1 != "")
                            {
                                <input type="checkbox" id="PreviousTreatment_@i" checked=@chkedStatus1>
                            }
                            else
                            {
                                <input type="checkbox" id="PreviousTreatment_@i">
                            }

                            &nbsp;
                            @Desc1

                            @*</td>
                                    </tr>
                                </tbody>
                            </table>*@
                        </div>


                    }


                }

            </div>


            <div class="col-sm-12">
                <table width="100%" border="0" style="margin-top:20px;">

                    <tbody>
                        <tr>
                            <td width="93%" valign="top" style="padding-bottom:20px;">Physician Name<span style="width:290px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.DMEFordoctor.First_Name   @Model.DMEFordoctor.Last_Name</span>NPI<span style="width:230px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.DMEFordoctor.NPI_No</span> Phone <span style="width:230px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; ">@Model.DMEFordoctor.Phone1</span></td>
                        </tr>
                        <tr>
                            <td width="93%" valign="top" style="padding-top:100px;">Physician Signature x<span style="width:560px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; "></span>Date<span style="width:250px; margin:0 10px 0 10px; display:inline-block; border-bottom:1px solid #ccc; border-left:none; border-right:none; border-top:none; padding-bottom:7px; "></span> </td>

                        </tr>

                    </tbody>

                </table>
            </div>
            <table width="100%" border="0">
                <tbody>
                    <tr>
                        <td>I certify the above prescribed equipment is medically indicated and supports accepted standards of medical practice for this patient’s condition</td>
                    </tr>
                </tbody>
            </table>

            <table width="100%" border="0" style="margin-top:15px; font-size:25px;">
                <tbody>
                    <tr>
                        <td style="text-align:center;font-family:Arial;"><strong>PLEASE RETURN THIS FORM BY FAX TO <span style="text-decoration:underline;">888-758-9645</span></strong></td>
                    </tr>
                </tbody>
            </table>

        </div>



</body>
</html>
@*<script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script>

        $(document).ready(function () {
            //debugger;
            var selected = $("#CustomBrace_CustomBrace_Desc").val();
            //alert(selected);
            if (selected != undefined) {
                var chkArray = selected.split(',');
                //alert(chkArray);
                for (var i = 0; i < chkArray.length; i++) {
                    // alert('KneeBraceCustomFormCustomBrace_Desc' + chkArray[i]);
                    //$("#dvMsg").html("<span> " + chkArray[i] + "</span> <br/>");

                    $('#KneeBraceCustomFormCustomBrace_Desc_' + chkArray[i]).prop('checked', 'true');


                }

            }
            var selected1 = $("#PreviousTreatment_PreviousTreatment_Desc").val();
            if (selected1 != undefined) {
                var chkPrevious = selected1.split(',');
                for (var i = 0; i < chkPrevious.length; i++) {
                    // alert('PreviousTreatments1' + chkPrevious[i]);
                    $('#PreviousTreatment' + chkPrevious[i]).prop('checked', 'true');
                }

            }
        });
    </script>*@